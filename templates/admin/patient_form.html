{% extends 'base.html' %}

{% block content %}
<h2>{{ action }} Patient Profile</h2>
<p>Creating profile for user: <strong>{{ username }}</strong></p>

<div class="form-container">
    <form method="POST">
        <input type="hidden" name="user_id" value="{{ user_id }}">

        <div class="form-group">
            <label for="name">Full Name:</label>
            <input type="text" id="name" name="name" value="{{ patient[1] if patient else '' }}" required>
        </div>

        <div class="form-group">
            <label for="dob">Date of Birth:</label>
            <input type="date" id="dob" name="dob" value="{{ patient[2] if patient else '' }}" required>
        </div>

        <div class="form-group">
            <label for="gender">Gender:</label>
            <select id="gender" name="gender" required>
                <option value="">-- Select Gender --</option>
                <option value="Male" {% if patient and patient[3]=='Male' %}selected{% endif %}>Male</option>
                <option value="Female" {% if patient and patient[3]=='Female' %}selected{% endif %}>Female</option>
                <option value="Other" {% if patient and patient[3]=='Other' %}selected{% endif %}>Other</option>
            </select>
        </div>

        <div class="form-group">
            <label for="contact">Contact Number:</label>
            <input type="text" id="contact" name="contact" value="{{ patient[4] if patient else '' }}" required>
        </div>

        <div class="form-group">
            <label for="address">Address:</label>
            <textarea id="address" name="address" rows="3" required>{{ patient[5] if patient else '' }}</textarea>
        </div>

        <div class="form-group">
            <label for="medical_history">Medical History:</label>
            <textarea id="medical_history" name="medical_history" rows="5">{{ patient[6] if patient else ''
                }}</textarea>
            <small>Optional: Include any relevant medical history information</small>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-success">Save Patient Profile</button>
            <a href="{{ url_for('admin_users') }}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}